<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Pyre Errors · Pyre</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta property="og:title" content="Pyre Errors · Pyre"/><meta property="og:type" content="website"/><meta property="og:url" content="https://pyre-check.org/index.html"/><meta property="og:description" content="Elaboration on some categories of errors thrown by Pyre."/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible doc"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/integrated_logo_light.png" alt="Pyre"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/installation.html" target="_self">Getting Started</a></li><li class="siteNavGroupActive"><a href="/docs/overview.html" target="_self">Documentation</a></li><li class=""><a href="https://github.com/facebook/pyre-check" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Contents</span></h2></div><div class="navGroups"><div class="navGroup navGroupActive"><h3>Contents</h3><ul><li class="navListItem"><a class="navItem" href="/docs/overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/guided-tour.html">Guided Tour</a></li><li class="navListItem"><a class="navItem" href="/docs/gradual-typing.html">Gradual Typing</a></li><li class="navListItem"><a class="navItem" href="/docs/error-suppression.html">Error Suppression</a></li><li class="navListItem navListItemActive"><a class="navItem navItemActive" href="/docs/error-types.html">Error Types</a></li><li class="navListItem"><a class="navItem" href="/docs/lsp-integration.html">Editor Integration</a></li></ul></div></div></section></div><script>
          var toggler = document.getElementById('navToggler');
          var nav = document.getElementById('docsNav');
          toggler.onclick = function() {
            nav.classList.toggle('docsSliderActive');
          };
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1>Pyre Errors</h1></header><article><div><span><p>Elaboration on some categories of errors thrown by Pyre.</p>
<h2><a class="anchor" aria-hidden="true" id="pyre-errors-14-15-behavioral-subtyping"></a><a href="#pyre-errors-14-15-behavioral-subtyping" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pyre Errors [14/15]: Behavioral Subtyping</h2>
<p>Method overrides should follow
<a href="https://en.wikipedia.org/wiki/Liskov_substitution_principle">Liskov's substitution principle</a>.
In short, parameter types can't be more restrictive and return types
can't be more permissive in overridden methods. To see why, consider the following example:</p>
<pre><code class="hljs">  def <span class="hljs-built_in">width</span>(<span class="hljs-built_in">image</span>: Image) -&gt; <span class="hljs-keyword">float</span>:
    <span class="hljs-built_in">return</span> <span class="hljs-built_in">image</span>.<span class="hljs-built_in">width</span>()
</code></pre>
<p>Say we now have different implementations of our <code>Image</code> class, one of which
violates the substitution principle:</p>
<pre><code class="hljs">  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Image</span>:</span>
<span class="hljs-meta">    @abstractmethod:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">width</span><span class="hljs-params">()</span> -&gt; float:</span> <span class="hljs-keyword">pass</span>

  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">JpegImage</span><span class="hljs-params">(Image)</span>:</span>
<span class="hljs-meta">    @override</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">width</span><span class="hljs-params">()</span> -&gt; int:</span> <span class="hljs-keyword">return</span> <span class="hljs-number">10</span>  <span class="hljs-comment"># this is fine</span>

  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ComplexImage</span><span class="hljs-params">(Image)</span>:</span>
<span class="hljs-meta">    @override</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">width</span><span class="hljs-params">()</span> -&gt; complex:</span> <span class="hljs-keyword">return</span> <span class="hljs-number">1j</span>
</code></pre>
<p>Clearly our <code>width</code> function above breaks when used with a <code>ComplexImage</code> instance.
The case for parameters follows analogously.</p>
<h2><a class="anchor" aria-hidden="true" id="pyre-errors-16-missing-attributes"></a><a href="#pyre-errors-16-missing-attributes" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Pyre Errors [16]: Missing Attributes</h2>
<p>Your code is most likely trying to access an attribute that Pyre does not know about.
Pyre has various ways of inferring what is an attribute of an object:</p>
<h3><a class="anchor" aria-hidden="true" id="explicitly-declared"></a><a href="#explicitly-declared" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Explicitly Declared</h3>
<pre><code class="hljs">  class Derp:
    <span class="hljs-keyword">attribute</span>: int = <span class="hljs-number">1</span>

    @<span class="hljs-keyword">property</span><span class="hljs-title">
    </span>def <span class="hljs-keyword">property</span><span class="hljs-title"></span>(self) -&gt; int: ...
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="implicitly-declared"></a><a href="#implicitly-declared" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Implicitly Declared</h3>
<pre><code class="hljs">  <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Derp</span>:</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span><span class="hljs-params">(<span class="hljs-keyword">self</span>)</span></span>:
       <span class="hljs-keyword">self</span>.<span class="hljs-symbol">attribute:</span> int = <span class="hljs-number">1</span>
</code></pre>
<p>Pyre does one level of inlining to infer implicit parameters
We suggest you do not heavily rely on this feature as it is not sound and makes our code brittle.
Support for this is temporary.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="error-suppression.html">← Error Suppression</a><a class="docs-next button" href="lsp-integration.html">See Pyre Errors In Your Editor →</a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><a href="https://code.facebook.com/projects/" target="_blank">Open Source Projects</a><a href="https://github.com/facebook/" target="_blank">Github</a><a href="https://twitter.com/fbOpenSource" target="_blank">Twitter</a><a href="https://github.com/facebook/pyre-check" target="_blank">Contribute to Pyre</a></section></footer></div></body></html>