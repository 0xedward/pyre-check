<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>Configuring Pyre · Pyre</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;persistent-configuration&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#persistent-configuration&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Persistent Configuration&lt;/h1&gt;
"/><meta name="docsearch:language" content="en"/><meta property="og:title" content="Configuring Pyre · Pyre"/><meta property="og:type" content="website"/><meta property="og:url" content="https://pyre-check.org/index.html"/><meta property="og:description" content="&lt;h1&gt;&lt;a class=&quot;anchor&quot; aria-hidden=&quot;true&quot; id=&quot;persistent-configuration&quot;&gt;&lt;/a&gt;&lt;a href=&quot;#persistent-configuration&quot; aria-hidden=&quot;true&quot; class=&quot;hash-link&quot;&gt;&lt;svg class=&quot;hash-link-icon&quot; aria-hidden=&quot;true&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Persistent Configuration&lt;/h1&gt;
"/><meta name="twitter:card" content="summary"/><link rel="shortcut icon" href="/img/favicon.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/css/main.css"/></head><body class="sideNavVisible"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/integrated_logo_light.png" alt="Pyre"/></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class="siteNavGroupActive"><a href="/docs/installation.html" target="_self">Getting Started</a></li><li class="siteNavGroupActive"><a href="/docs/overview.html" target="_self">Documentation</a></li><li class=""><a href="https://github.com/facebook/pyre-check" target="_self">GitHub</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="container docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><i></i></div><h2><i>›</i><span>Contents</span></h2></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle">Contents</h3><ul><li class="navListItem"><a class="navItem" href="/docs/overview.html">Overview</a></li><li class="navListItem"><a class="navItem" href="/docs/installation.html">Installation</a></li><li class="navListItem"><a class="navItem" href="/docs/guided-tour.html">Guided Tour</a></li><li class="navListItem navListItemActive"><a class="navItem" href="/docs/configuration.html">Configuring Pyre</a></li><li class="navListItem"><a class="navItem" href="/docs/gradual-typing.html">Gradual Typing</a></li><li class="navListItem"><a class="navItem" href="/docs/error-suppression.html">Error Suppression</a></li><li class="navListItem"><a class="navItem" href="/docs/error-types.html">Error Types</a></li><li class="navListItem"><a class="navItem" href="/docs/lsp-integration.html">Editor Integration</a></li><li class="navListItem"><a class="navItem" href="/docs/watchman-integration.html">Watchman Integration</a></li><li class="navListItem"><a class="navItem" href="/docs/querying-pyre.html">Querying Pyre</a></li></ul></div></div></section></div><script>
            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              const headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                if (event.target.tagName === 'A') {
                  document.body.classList.remove('tocActive');
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 class="postHeaderTitle">Configuring Pyre</h1></header><article><div><span><h1><a class="anchor" aria-hidden="true" id="persistent-configuration"></a><a href="#persistent-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Persistent Configuration</h1>
<p>The recommended way to use Pyre is with a configuration file set.
You can generate an initial configuration in the root of your project with</p>
<pre><code class="hljs css language-bash">$ pyre init
</code></pre>
<p>This will create a basic configuration file at <code>.pyre_configuration</code> containing,
for example:</p>
<pre><code class="hljs css language-bash">{
  <span class="hljs-string">"binary"</span>: <span class="hljs-string">"/Library/Frameworks/Python.framework/Versions/3.6/bin/pyre.bin"</span>,
  <span class="hljs-string">"source_directories"</span>: [
    <span class="hljs-string">"."</span>
  ]
}
</code></pre>
<p>You can extend this configuration to configure Pyre for your project's specific
setup and needs. The following configuration options are supported:</p>
<p><code>source_directories</code>: List of paths to type check. Defaults to current directory.</p>
<p><code>ignore_all_errors</code>: A list of paths to omit from type-checking. This may be useful for
generated files, virtualenv directories, etc.  These should be paths relative to the location of
the configuration file (or the local configuration if applicable).  These can also include basic
globs using *. <strong>Note</strong>: files matching these paths will still be parsed, please refer to the
<code>exclude</code> configuration item for further options.</p>
<p><code>binary</code>: Location of pyre binary. This can be specified to gradually upgrade a Pyre
binary in a CI setting.</p>
<p><code>logger</code>: If set, Pyre will invoke the binary passing it statistics in JSON format.
The statistics contain information about Pyre's performance as well as information about
the project's type coverage.</p>
<p><code>search_path</code>: List of paths to stubs and external modules to include in the typing
environment. For example, typeshed third-party modules. Pyre will use those paths to
build up the typing environment but will <em>not</em> check files found in the search path.</p>
<p><code>typeshed</code>: Path to the <a href="https://github.com/python/typeshed">Typeshed</a> standard library, which
provides typed stubs for library functions.</p>
<p><code>workers</code>: Number of workers to spawn for multiprocessing.</p>
<p><code>exclude</code>: List of regular expressions for files and directories that should not be parsed.</p>
<h1><a class="anchor" aria-hidden="true" id="local-configuration"></a><a href="#local-configuration" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Local Configuration</h1>
<p>If you have sub-projects within your project root that you would like to run Pyre on, you
can create a <code>.pyre_configuration.local</code> at the root of your subproject and override any
of the fields set in <code>.pyre_configuration</code> above.</p>
<p>When calling Pyre, the nearest local configuration at or above the current directory will be used.
You can use the <code>--local-configuration</code> (or <code>-l</code>) flag to invoke Pyre on a project that includes a
local configuration, while outside its source directory. It works like <code>make -C</code>:</p>
<pre><code class="hljs">$ ls project
  <span class="hljs-selector-class">.pyre_configuration</span><span class="hljs-selector-class">.local</span>   project_file<span class="hljs-selector-class">.py</span>   ...
$ pyre -l project
  Checking...
</code></pre>
<h1><a class="anchor" aria-hidden="true" id="command-line-arguments-and-flags"></a><a href="#command-line-arguments-and-flags" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Command Line Arguments and Flags</h1>
<p>The Pyre command line flags can be summarized by running <code>pyre --help</code> or <code>pyre -h</code>:</p>
<pre><code class="hljs css language-bash">$ pyre --<span class="hljs-built_in">help</span>
usage: pyre     [-h] [-l LOCAL_CONFIGURATION] [--show-error-traces]
                [--output {text,json}] [--verbose] [--noninteractive]
                [--show-parse-errors] [--binary-version] [--build]
                [--target TARGET] [--<span class="hljs-built_in">source</span>-directory SOURCE_DIRECTORY]
                [--search-path SEARCH_PATH] [--preserve-pythonpath]
                [--typeshed TYPESHED]
                {check, <span class="hljs-built_in">kill</span>, incremental, initialize init, rage, restart,
                start, stop} ...

positional arguments:
  {check, <span class="hljs-built_in">kill</span>, incremental, initialize (init), rage, restart, start, stop}

optional arguments:
  -h, --<span class="hljs-built_in">help</span>            show this <span class="hljs-built_in">help</span> message and <span class="hljs-built_in">exit</span>
  -l LOCAL_CONFIGURATION, --<span class="hljs-built_in">local</span>-configuration LOCAL_CONFIGURATION
                        Use a <span class="hljs-built_in">local</span> configuration
  --version             show program<span class="hljs-string">'s version number and exit
  --binary-version      Print the pyre.bin version to be used
  --show-error-traces   Display errors trace information
  --output {text,json}  How to format output
  --verbose             Enable verbose logging
  --noninteractive      Disable interactive logging
  --show-parse-errors   Display detailed information about parse errors
  --search-path SEARCH_PATH
                        Add an additional directory of modules and stubs to
                        include in the type environment
  --preserve-pythonpath
                        Preserve the value of the PYTHONPATH environment
                        variable and inherit the current python environment'</span>s
                        search path
  --binary BINARY       Location of the pyre binary
  --exclude EXCLUDE     Exclude files and directories matching this regexp from parsing
  --typeshed TYPESHED   Location of the typeshed stubs

buck:
  --build               Build all the necessary artifacts.
  --target TARGET       The buck target to check

<span class="hljs-built_in">source</span>-directory:
  --<span class="hljs-built_in">source</span>-directory SOURCE_DIRECTORY
                        The <span class="hljs-built_in">source</span> directory to check
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="positional-arguments"></a><a href="#positional-arguments" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Positional Arguments</h2>
<p>If <a href="https://facebook.github.io/watchman/docs/install.html">Watchman</a> is
installed, running <code>pyre</code> with no positional arguments defaults to incremental,
otherwise defaults to check.</p>
<p><code>check</code>: Run Pyre.</p>
<p><code>kill</code>: Kill the Pyre server.</p>
<p><code>incremental</code>: Run Pyre and spin up a Pyre server, which listens to watchman changes in
your repository, and to changes reported by VSCode or Nuclide editors via LSP Protocol.
Subsequent runs of Pyre will be much faster than running Pyre from scratch with <code>check</code>.
Running <code>pyre</code> with no positional arguments defaults to <code>pyre incremental</code>.</p>
<p><code>initialize</code>, <code>init</code>: Generate a basic <code>.pyre_configuration</code> file in the current directory.
Searches for a path to your Pyre binary and typeshed stubs.</p>
<p><code>rage</code>: Print server logs for debugging or for context when reporting server errors.</p>
<p><code>restart</code>: Restart the Pyre server.</p>
<p><code>start</code>: Start the Pyre server.</p>
<p><code>stop</code>: Stop the Pyre server.</p>
<h2><a class="anchor" aria-hidden="true" id="flags"></a><a href="#flags" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Flags</h2>
<p>These flags can be passed in before any of the positional arguments above. For example:</p>
<pre><code class="hljs css language-bash">pyre --<span class="hljs-built_in">source</span>-directory <span class="hljs-string">"."</span> --noninteractive check
pyre --<span class="hljs-built_in">source</span>-directory <span class="hljs-string">"."</span> restart
</code></pre>
<p><code>--local-configuration LOCAL_CONFIGURATION</code>: Call Pyre specifying the path to a local
configuration outside of the current working directory.</p>
<p><code>--noninteractive</code>: Disable interactive logging, which by default overwrites intermediate
logging output and adds colors for a more streamlined user experience.
Non-interactive mode ensures all terminal output remains visible.</p>
<p><code>--output {text, json}</code>: Formatting for error return values. Defaults to text.</p>
<p><code>--preserve-pythonpath</code>: Use the <code>$PYTHONPATH</code> environment variable to search for external
sources, along with the current environment's search path. This environment variable is
ignored otherwise.</p>
<p><code>--search-path SEARCH_PATH</code>: Provide additional stubs or modules external to the project
being type-checked. Can also be set in <code>.pyre_configuration</code> or often lives in the
<code>$PYTHONPATH</code> environment variable (see <code>--preserve-pythonpath</code>).</p>
<p><code>--show-error-traces</code>: Display more verbose error messages which include a more detailed
reason and relevant source code locations (for example, what line a type conflicting
type was specified on).</p>
<p><code>--source-directory SOURCE_DIRECTORY</code>: Provide a path to the source root to check. Can also
be specified in <code>.pyre_configuration</code>.</p>
<p><code>--typeshed TYPESHED</code>: Path to the <a href="https://github.com/python/typeshed">Typeshed</a> standard library,
which provides typed stubs for library functions. This can also be set in <code>.pyre_configuration</code>.</p>
<p><code>--verbose</code>: Enable verbose logging. Most useful when used in conjunction with <code>--noninteractive</code>.</p>
<p><code>--version</code>: Print the current version of Pyre.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/guided-tour.html"><span class="arrow-prev">← </span><span>Guided Tour</span></a><a class="docs-next button" href="/docs/gradual-typing.html"><span>Gradual Typing</span><span class="arrow-next"> →</span></a></div></div></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://code.facebook.com/projects/" target="_blank" class="fbOpenSource"><img src="/img/oss_logo.png" alt="Facebook Open Source" width="170" height="45"/></a><a href="https://code.facebook.com/projects/" target="_blank">Open Source Projects</a><a href="https://github.com/facebook/" target="_blank">Github</a><a href="https://twitter.com/fbOpenSource" target="_blank">Twitter</a><a href="https://github.com/facebook/pyre-check" target="_blank">Contribute to Pyre</a></section></footer></div></body></html>